<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="game.css">

    <script>
    
    var frameDisplay =[];
    var textDisplay = ["debug text, hello! you shouldn't be seeing this."];
    var narLinesP0 = ["Your head feels heavy, same with your eyes. A displeasure washes over you as you're ripped away from a pleasent dream, replaced by the, quite literally, cold reality. It's your first day at a new job, and an odd one at that.",
"Typically a janitorial position isn't that insane of a field, though the people you were working for were VERY different. They were some kind of Privite Military Company, but regardless of what someone does, you supposed they always needed a janitor to clean up the mess. You just hoped that mess involved more dirt and dust and less brain matter...",
"You dragged yourself out by your heels. As much as you liked money, this sounded like pain. Worse than tolling physical labor was mundane physical labor. As you drove yourself to the not-at-all horrifying concrete bunker, scanned the ID card they issued, you walked down to your position, grabbing a broom and mop and getting to work...",
"As you walked down to the firing range, your first place to stop, a voice calls out to you.",
"You were confused, but approached regardless. It was someone behind a bulletproof glass, with a small slot at the bottom for fitting papers through.",
"Your speech was stuttered, flustered at your blatent disregard for... well, to put it softly, common sense.",
"Walking in, you can see many people at the range, though most of them are finished and are just cleaning up their weapons. One guy is still shooting, a very tall man with a short mohawk.",
"Taking the advice of the person who took your name, you decide to let him finish shooting."];
    var johnLinesP0 = ["''YEA! Another bullseye for me!'' He shouts out, many people giving vaguely friendly smiles before hurringly returning to their work. He empties the gun, placing it down and turning to face you.",
    "''Oh, hey little dude, sorry I didn't notice you before.'' He holds out his hand, offering a handshake. ''You're the new janitor guy, yeah?''"];
    var abiLinesP0 = [];
    var extraLinesP0 = ["''HEY, KID. OVER HERE!''", 
    "''Do you have a deathwish? You can't just walk into a firing range without giving me your name first!''",
    "He takes notice of your staggering speech, responding with a slightly annoyed sigh. ''I'll be honest, I do not care, but it'd do you some good to be more aware. Now just give me your name.''"];
    var path1 = false;
    var path2 = false;

    var frameValue = 0;

    var chara;
    //variables ↑

    //functions ↓
    function changeImage(img){
        window.document.frameOn.src=img;
    }
    function changeText(txt){
        document.getElementById("textFrameOn").innerHTML = textDisplay[frameValue];
    }
    function changeCharacter(char){
        document.getElementById("characterYapping").innerHTML = (char);
    }
    function characterChanger(yap){
        if (yap === "n"){
            chara = "You";
        }
        else if (yap === "j"){
            chara = "John";
        }
        else if (yap === "a"){
            chara = "Abigail";
        }
        else if(yap === "b"){
            chara = "";
        }
        else{
            chara = "???";
        }
        changeCharacter(chara);
    }

    // THE MEGA SCRIPT, BE AFRAID
    function everythingAllAtOnce(){
        //Text frame data, path 0
        frameValue++;
        if (frameValue === 1){
            characterChanger("n");
            textDisplay[frameValue] = narLinesP0[0];
        }
        else if (frameValue === 2){
            textDisplay[frameValue] = narLinesP0[1];
        }
        else if (frameValue === 3){
            textDisplay[frameValue] = narLinesP0[2];
        }
        else if (frameValue === 4){
            textDisplay[frameValue] = narLinesP0[3];
        }
        else if (frameValue === 5){
            characterChanger("b")
            textDisplay[frameValue] = extraLinesP0[0];
        }
        else if (frameValue === 6){
            characterChanger("n")
            textDisplay[frameValue] = narLinesP0[4];
        }
        else if (frameValue === 7){
            characterChanger("b")
            textDisplay[frameValue] = extraLinesP0[1];
        }
        else if (frameValue === 8){
            characterChanger("n")
            textDisplay[frameValue] = narLinesP0[5];
        }
        else if (frameValue === 9){
            characterChanger("b")
            textDisplay[frameValue] = extraLinesP0[2];
        }
        else if (frameValue === 10){
            var playName = prompt("What is your name?");
            extraLinesP0[3] = "''Huh, " + playName + "?'' You could hear clicking on a computer, before looking back up. ''Weird name but alright. Door's on your left broom boy.''";
            textDisplay[frameValue] = extraLinesP0[3];
        }
        else if (frameValue === 11){
            characterChanger("n")
            textDisplay[frameValue] = narLinesP0[6];
        }
        else if (frameValue === 12){
            textDisplay[frameValue] = narLinesP0[7];
        }
        else if (frameValue === 13){
            characterChanger("j")
            textDisplay[frameValue] = johnLinesP0[0];
        }
        else if (frameValue === 14){
            textDisplay[frameValue] = johnLinesP0[1];
        }
        //Image frame data, path 0
        if (frameValue === 1){
            changeImage("/images/final/f0p0.gif");
        }
        if (frameValue === 3){
            changeImage("/images/final/f1p0.gif");
        }
        if (frameValue === 5){
            changeImage("/images/final/f2p0.gif");
        }
        changeText();
    }
    </script>
    <!-- frame scripts ^ -->
</head>
<body>
    <img src="/images/final/titleS.jpg" 
        width = 560
        height = 560
        name = "frameOn">
    <br>
    <div class=textBox onclick="everythingAllAtOnce();">
        <p id="textFrameOn">♡ Click to Start! ♡</p>
        <p id="characterYapping"></p>
    </div>
</body>